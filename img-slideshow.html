<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../core-animated-pages/core-animated-pages.html">
<!--
Element displaying images in slideshow.

##### Example

    <img-slideshow width="1248" height="462" transitions="cross-fade-all"
      srcs='["images/FB.COVER.IMAGE.001-01.jpg",
      "images/FB.COVER.IMAGE.002-01.jpg",
      "images/FB.COVER.IMAGE.003-01.jpg",
      "images/FB.COVER.IMAGE.004-01.jpg"]'>
      <link rel="import" href="../core-animated-pages/transitions/cross-fade.html" >
    </img-slideshow>

@element img-slideshow
@blurb Element displaying images in slideshow.
@status alpha
@homepage https://github.com/svstus/img-slideshow
-->
<polymer-element name="img-slideshow"
  attributes="height srcs transitions width">

  <template>
    <core-animated-pages transitions="{{transitions}}" id="pages">
      <template repeat="{{ src in srcs }}">
        <section>
          <img src="{{src}}" width="{{width}}" height="{{height}}"/>
        </section>
    </template>
    </core-animated-pages>
  </template>

  <script>

    Polymer({
      _nextImage: function(e) {
        // TODO: support different strategy: random, sequential
        this.$.pages.selected = (this.$.pages.selected + 1) % this.srcs.length;
        this.job('nextImage', this._nextImage, this.duration);
      },

      created: function() {
        /**
         * The `srcs` attribute sets the list of images to be displayed.
         *
         * @attribute srcs
         * @type !Array.<string>
         * @default []
         */
        this.srcs = [];

        /**
         * The `duration` attribute sets the duration for each image.
         *
         * @attribute duration
         * @type number
         * @default 5000
         */
        this.duration = 5000; // 5s.
      },

      ready: function() {
        // schedule image switch
        this.job('nextImage', this._nextImage, this.duration);
      },
    });

  </script>

</polymer-element>
